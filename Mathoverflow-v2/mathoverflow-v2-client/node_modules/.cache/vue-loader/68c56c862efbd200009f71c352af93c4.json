{"remainingRequest":"D:\\master_projects\\Mathoverflow_master\\Mathoverflow-v2\\mathoverflow-v2-client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\master_projects\\Mathoverflow_master\\Mathoverflow-v2\\mathoverflow-v2-client\\src\\components\\question.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\master_projects\\Mathoverflow_master\\Mathoverflow-v2\\mathoverflow-v2-client\\src\\components\\question.vue","mtime":1669581907806},{"path":"D:\\master_projects\\Mathoverflow_master\\Mathoverflow-v2\\mathoverflow-v2-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\master_projects\\Mathoverflow_master\\Mathoverflow-v2\\mathoverflow-v2-client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\master_projects\\Mathoverflow_master\\Mathoverflow-v2\\mathoverflow-v2-client\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"D:\\master_projects\\Mathoverflow_master\\Mathoverflow-v2\\mathoverflow-v2-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\master_projects\\Mathoverflow_master\\Mathoverflow-v2\\mathoverflow-v2-client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQppbXBvcnQgVnVlLCB7IFByb3BUeXBlIH0gZnJvbSAndnVlJw0KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOw0KaW1wb3J0IHsgZGVsZXRlQW5zd2VyLCBnZXRBbnN3ZXIsIGdldFF1ZXN0aW9uLCBnZXRVc2VyLCBnZXRVc2VycywgcG9zdEFuc3dlciwgdXBkYXRlQW5zd2VyMSwgdXBkYXRlUXVlc3Rpb24xLCB2b3RlQW5zd2VyLCB2b3RlUXVlc3Rpb24gfSBmcm9tICcuL2Z1bmN0aW9ucyc7DQppbXBvcnQgeyBxdWVzdGlvbjEgfSBmcm9tICcuL3R5cGVzJzsNCmltcG9ydCB7IFZ1ZUVkaXRvciB9IGZyb20gInZ1ZTItZWRpdG9yIjsNCmltcG9ydCBrYXRleCBmcm9tICdrYXRleCc7DQppbXBvcnQgJ2thdGV4L2Rpc3Qva2F0ZXgubWluLmNzcyc7DQovLyBpbXBvcnQgKiBhcyBtYXRoTGl2ZSBmcm9tICJtYXRobGl2ZSINCmltcG9ydCBRdWlsbCBmcm9tICdxdWlsbCc7DQovLyBWdWUudXNlKG1hdGhMaXZlKTsNCi8vZGVjbGFyYXRpb24gZm9yIGthdGV4DQpkZWNsYXJlIGdsb2JhbCB7DQogICAgaW50ZXJmYWNlIFdpbmRvdyB7DQogICAgICAgIGthdGV4OiBhbnk7DQogICAgfQ0KfQ0KLy8NCmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQoew0KDQogICAgY29tcG9uZW50czogeyBWdWVFZGl0b3IgfSwNCiAgICBwcm9wczogew0KICAgICAgICBxdWVzdGlvbjogew0KICAgICAgICAgICAgdHlwZTogT2JqZWN0IGFzIFByb3BUeXBlPHF1ZXN0aW9uMT4sDQogICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgcXVlc3Rpb246IHF1ZXN0aW9uMSA9IHsgdWlkOiAnJywgdGl0bGU6ICIiLCBib2R5OiAnJywgdXNlcklkOiAnJyB9Ow0KICAgICAgICAgICAgICAgIHJldHVybiBxdWVzdGlvbg0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSwNCiAgICBkYXRhOiAoKSA9PiAoew0KICAgICAgICBhZG1pbjogdHJ1ZSwNCiAgICAgICAgdXNlcjogZmFsc2UsIC8vbWUgdiBpZiBhbiBlaW5haSBvIHVzZXIgbXBvcmVpIG5hIHN2aXNlaSB0aW4gZXJ3dGhzaCB0dQ0KICAgICAgICBhbnN3ZXJCb2R5OiAiIiwNCiAgICAgICAgYW5zd2Vyc0NvbHM6IFsNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB0ZXh0OiAnVm90ZXMnLA0KICAgICAgICAgICAgICAgIGFsaWduOiAnc3RhcnQnLA0KICAgICAgICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLA0KICAgICAgICAgICAgICAgIHZhbHVlOiAndm90ZXMnDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHRleHQ6ICdBbnN3ZXInLA0KICAgICAgICAgICAgICAgIGFsaWduOiAnc3RhcnQnLA0KICAgICAgICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLA0KICAgICAgICAgICAgICAgIHZhbHVlOiAnYm9keScsDQogICAgICAgICAgICAgICAgaGVpZ2h0OiAiMjAlIg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB0ZXh0OiAnVXNlcicsDQogICAgICAgICAgICAgICAgYWxpZ246ICdzdGFydCcsDQogICAgICAgICAgICAgICAgc29ydGFibGU6IHRydWUsDQogICAgICAgICAgICAgICAgdmFsdWU6ICd1c2VyJw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIC8vICB7DQogICAgICAgICAgICAvLyAgICAgdGV4dDogJ0lkJywNCiAgICAgICAgICAgIC8vICAgICBhbGlnbjogJ3N0YXJ0JywNCiAgICAgICAgICAgIC8vICAgICBzb3J0YWJsZTogdHJ1ZSwNCiAgICAgICAgICAgIC8vICAgICB2YWx1ZTogJ2Fuc3dlcl9pZCcNCiAgICAgICAgICAgIC8vIH0sDQoNCiAgICAgICAgICAgIHsgdGV4dDogIiIsIGFsaWduOiAnY2VudGVyJywgc29ydGFibGU6IHRydWUsIHZhbHVlOiAnZWRpdCcsIHdpZHRoOiAnMSUnIH0sDQogICAgICAgICAgICB7IHRleHQ6ICIiLCBhbGlnbjogJ2NlbnRlcicsIHNvcnRhYmxlOiB0cnVlLCB2YWx1ZTogJ3JlbW92ZScsIHdpZHRoOiAnMSUnIH0NCiAgICAgICAgXSwgLy8gbmEgZnRpYXh0ZWkgdHlwb3MgZ2lhIHRpcyBhbnN3ZXJzDQogICAgICAgIGFuc3dlcnM6IFtdIGFzIGFueVtdLA0KICAgICAgICBxdWVzdGlvbkV4YW1wbGU6IHt9IGFzIGFueSwgLy8gbmEgZnRpYXh0ZWkgdHVwb3MNCiAgICAgICAgZnVDb250ZW50OiB0cnVlLA0KICAgICAgICBxdWVzdGlvblN1bVZvdGVzOiAwLA0KICAgICAgICBlZGl0b3JPcHRpb25zOiB7DQogICAgICAgICAgICBtb2R1bGVzOiB7DQogICAgICAgICAgICAgICAgdG9vbGJhcjogZmFsc2UsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgLy8gaGFuZGxlcnM6IHsNCiAgICAgICAgICAgIC8vICAgICBjdXN0b21Db250cm9sOiAoKSA9PiB7DQogICAgICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCJjdXN0b21Db250cm9sIHdhcyBjbGlja2VkIik7DQogICAgICAgICAgICAvLyAgICAgfQ0KICAgICAgICAgICAgLy8gfSwNCiAgICAgICAgfSwNCiAgICAgICAgLy8gdG9vbGJhck9wdHM6IHsNCiAgICAgICAgdG9vbGJhck9wdHNfb2xkOiB7DQogICAgICAgICAgICBtb2R1bGVzOiB7DQogICAgICAgICAgICAgICAgdG9vbGJhcjogew0KICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IFsNCiAgICAgICAgICAgICAgICAgICAgICAgIFt7ICdmb250JzogW10gfV0sDQogICAgICAgICAgICAgICAgICAgICAgICBbeyAnaGVhZGVyJzogW2ZhbHNlLCAxLCAyLCAzLCA0LCA1LCA2LF0gfV0sDQogICAgICAgICAgICAgICAgICAgICAgICBbeyAnc2l6ZSc6IFsnc21hbGwnLCBmYWxzZSwgJ2xhcmdlJywgJ2h1Z2UnXSB9XSwNCiAgICAgICAgICAgICAgICAgICAgICAgIFsnYm9sZCcsICdpdGFsaWMnLCAndW5kZXJsaW5lJywgJ3N0cmlrZSddLA0KICAgICAgICAgICAgICAgICAgICAgICAgW3sgJ2FsaWduJzogJycgfSwgeyAnYWxpZ24nOiAnY2VudGVyJyB9LCB7ICdhbGlnbic6ICdyaWdodCcgfSwgeyAnYWxpZ24nOiAnanVzdGlmeScgfV0sDQogICAgICAgICAgICAgICAgICAgICAgICBbeyAnaGVhZGVyJzogMSB9LCB7ICdoZWFkZXInOiAyIH1dLA0KICAgICAgICAgICAgICAgICAgICAgICAgWydibG9ja3F1b3RlJywgJ2NvZGUtYmxvY2snXSwNCiAgICAgICAgICAgICAgICAgICAgICAgIFt7ICdsaXN0JzogJ29yZGVyZWQnIH0sIHsgJ2xpc3QnOiAnYnVsbGV0JyB9LCB7ICdsaXN0JzogJ2NoZWNrJyB9XSwNCiAgICAgICAgICAgICAgICAgICAgICAgIFt7ICdzY3JpcHQnOiAnc3ViJyB9LCB7ICdzY3JpcHQnOiAnc3VwZXInIH1dLA0KICAgICAgICAgICAgICAgICAgICAgICAgW3sgJ2luZGVudCc6ICctMScgfSwgeyAnaW5kZW50JzogJysxJyB9XSwNCiAgICAgICAgICAgICAgICAgICAgICAgIFt7ICdjb2xvcic6IFtdIH0sIHsgJ2JhY2tncm91bmQnOiBbXSB9XSwNCiAgICAgICAgICAgICAgICAgICAgICAgIFsnZm9ybXVsYSddLA0KICAgICAgICAgICAgICAgICAgICAgICAgW3sgJ2RpcmVjdGlvbic6ICdydGwnIH1dLA0KDQogICAgICAgICAgICAgICAgICAgICAgICAvL3RoZSBjdXN0b20gYnV0dG9uIGZvciB0aGUgZm9ybXVsYXMgaW4gb3JkZXIgdG8gYmUgdXNlZCB3aXRoIG1hdGggbGl2ZSAsIG1hdGggZmllbGQNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFt7ICdjdXN0b21CdG4nOiAnZm9ybXVsYScgfV0NCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFsnY3VzdG9tQnRuMjIyJ10NCiAgICAgICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICAgICAgLy8gIiNjdXN0b21Ub29sYmFyIiwNCiAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlcnM6IHsNCiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGZvcm11bGE6DQogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZygiZm9ybXVsYSB3YXMgY2xpY2tlZDIyMiIpOw0KDQogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAvLyB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gfQ0KICAgICAgICB9LA0KICAgICAgICBjdXN0b21Ub29sYmFyOiBbDQogICAgICAgICAgICBbeyAnZm9udCc6IFtdIH1dLA0KICAgICAgICAgICAgW3sgJ2hlYWRlcic6IFtmYWxzZSwgMSwgMiwgMywgNCwgNSwgNixdIH1dLA0KICAgICAgICAgICAgW3sgJ3NpemUnOiBbJ3NtYWxsJywgZmFsc2UsICdsYXJnZScsICdodWdlJ10gfV0sDQogICAgICAgICAgICBbJ2JvbGQnLCAnaXRhbGljJywgJ3VuZGVybGluZScsICdzdHJpa2UnXSwNCiAgICAgICAgICAgIFt7ICdhbGlnbic6ICcnIH0sIHsgJ2FsaWduJzogJ2NlbnRlcicgfSwgeyAnYWxpZ24nOiAncmlnaHQnIH0sIHsgJ2FsaWduJzogJ2p1c3RpZnknIH1dLA0KICAgICAgICAgICAgW3sgJ2hlYWRlcic6IDEgfSwgeyAnaGVhZGVyJzogMiB9XSwNCiAgICAgICAgICAgIFsnYmxvY2txdW90ZScsICdjb2RlLWJsb2NrJ10sDQogICAgICAgICAgICBbeyAnbGlzdCc6ICdvcmRlcmVkJyB9LCB7ICdsaXN0JzogJ2J1bGxldCcgfSwgeyAnbGlzdCc6ICdjaGVjaycgfV0sDQogICAgICAgICAgICBbeyAnc2NyaXB0JzogJ3N1YicgfSwgeyAnc2NyaXB0JzogJ3N1cGVyJyB9XSwNCiAgICAgICAgICAgIFt7ICdpbmRlbnQnOiAnLTEnIH0sIHsgJ2luZGVudCc6ICcrMScgfV0sDQogICAgICAgICAgICBbeyAnY29sb3InOiBbXSB9LCB7ICdiYWNrZ3JvdW5kJzogW10gfV0sDQogICAgICAgICAgICBbJ2xpbmsnLCAnaW1hZ2UnLCAndmlkZW8nLCAnZm9ybXVsYSddLA0KICAgICAgICAgICAgW3sgJ2RpcmVjdGlvbic6ICdydGwnIH1dLA0KICAgICAgICAgICAgWydjbGVhbiddLA0KICAgICAgICAgICAgLy8gWydxbC1jdXN0b21CdG4nXQ0KICAgICAgICBdLA0KICAgICAgICBlZGl0b3JTdHlsZTogew0KICAgICAgICAgICAgImhlaWdodCI6ICc2MHB4JywNCiAgICAgICAgICAgIC8vICJib3JkZXIiOiAiMXB4IHNvbGlkIHRyYW5zcGFyZW50Ig0KDQogICAgICAgIH0sDQogICAgICAgIGZvcm11bGFPbjogZmFsc2UsDQogICAgICAgIGZvcm11bGFUZXh0OiAiIiwNCiAgICAgICAgZm9ybXVsYVRleHQyOiAiIiwNCiAgICAgICAgYW5zd2VyVm90ZXM6IFtdIGFzIGFueVtdLA0KICAgICAgICBlZGl0UXVlc3Rpb25Gb3JtOiBmYWxzZSwNCiAgICAgICAgZWRpdGluZzogZmFsc2UsDQogICAgICAgIGVkaXRlZFF1ZXN0aW9uQm9keTogIiIsDQogICAgICAgIGVkaXRlZFF1ZXN0aW9uVGl0bGU6ICIiLA0KICAgICAgICBhbnN3ZXJFZGl0aW5nOiBmYWxzZSwNCiAgICAgICAgdXBkYXRlZEFuc3dlcjoge30gYXMgYW55LA0KICAgICAgICBlZGl0ZWRBbnN3ZXJCb2R5OiAnJw0KICAgIH0pLA0KICAgIHdhdGNoOiB7DQogICAgICAgIHF1ZXN0aW9uKCkgew0KICAgICAgICAgICAgdGhpcy5xdWVzdGlvbkV4YW1wbGUgPSB0aGlzLnF1ZXN0aW9uOw0KICAgICAgICB9LA0KICAgICAgICBmb3JtdWxhT24odmFsdWU6IGJvb2xlYW4pIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbHVlLCAnVGhlIHZhbHVlIG9mIGZvcm11bGEgb24nKQ0KICAgICAgICB9LA0KICAgICAgICBmb3JtdWxhVGV4dCh2YWx1ZTogYW55KSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyh2YWx1ZSwgInRlaCBmcHJtdWxhIHRleHQiKQ0KICAgICAgICB9LA0KICAgICAgICAvLyANCiAgICAgICAgYXN5bmMgZ2V0UXVlc3Rpb25EYXRhKHZhbHVlOiBhbnkpIHsNCiAgICAgICAgICAgIC8vY2xlYW4gYW5zd2VycyB0YWJsZQ0KICAgICAgICAgICAgY29uc3QgZW1wdHk6IGFueVtdID0gW10NCiAgICAgICAgICAgIHRoaXMuYW5zd2VycyA9IGVtcHR5Ow0KICAgICAgICAgICAgLy8NCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbHVlLCAidGhlIHZhbHVlIG9mIHF1ZXN0aW9uIGRhdGEiKQ0KICAgICAgICAgICAgdGhpcy5xdWVzdGlvbkV4YW1wbGUgPSB7DQogICAgICAgICAgICAgICAgdWlkOiB0aGlzLmdldFF1ZXN0aW9uRGF0YS5kYXRhLnF1ZXN0aW9uX2lkLC8vIiIsDQogICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuZ2V0UXVlc3Rpb25EYXRhLmRhdGEudGl0bGUsDQogICAgICAgICAgICAgICAgYm9keTogdGhpcy5nZXRRdWVzdGlvbkRhdGEuZGF0YS5ib2R5LA0KICAgICAgICAgICAgICAgIHVzZXJJZDogdGhpcy5nZXRRdWVzdGlvbkRhdGEuZGF0YS5Vc2VyVXNlcklkDQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyBUTyBCRSBGSVhFRCBUSEUgTkFNRSBPRiBVU0VSIElOIEFOU1dFUlMNCg0KICAgICAgICAgICAgLy8gZm9yIChjb25zdCBhbnN3ZXIgb2YgdGhpcy5nZXRRdWVzdGlvbkRhdGEuYW5zd2Vycykgew0KICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGFuc3dlciwgIlRIRSBBTlNXRVIiKQ0KDQogICAgICAgICAgICAvLyAgICAgY29uc3QgdXNlcklkID0gYW5zd2VyLlVzZXJVc2VySWQNCiAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyh1c2VySWQsICJUSEUgVVNFUiBJRCIpDQogICAgICAgICAgICAvLyAgICAgY29uc3QgdXNlciA9IGF3YWl0IGdldFVzZXIodXNlcklkKTsNCiAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyh1c2VyLCAiVEhFIFVTRVIiKQ0KICAgICAgICAgICAgLy8gICAgIGNvbnN0IGFuc3dlck9iamVjdCA9IHsgYm9keTogYW5zd2VyLmJvZHksIHVzZXI6IHVzZXIuZGF0YS51c2VybmFtZSwgLyphbnN3ZXJfaWQ6IGFuc3dlci5hbnN3ZXJfaWQgKi8gfTsNCiAgICAgICAgICAgIC8vICAgICB0aGlzLmFuc3dlcnMucHVzaChhbnN3ZXJPYmplY3QpOw0KICAgICAgICAgICAgLy8gfQ0KICAgICAgICAgICAgY29uc3QgdXNlcnMgPSBhd2FpdCBnZXRVc2VycygpOw0KICAgICAgICAgICAgZm9yIChjb25zdCBhbnN3ZXIgb2YgdGhpcy5nZXRRdWVzdGlvbkRhdGEuYW5zd2Vycykgew0KICAgICAgICAgICAgICAgIC8vDQogICAgICAgICAgICAgICAgZm9yIChjb25zdCB1c2VyIG9mIHVzZXJzKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICh1c2VyLnVzZXJfaWQgPT09IGFuc3dlci5Vc2VyVXNlcklkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBxdWVzdGlvbk9iamVjdCA9IHsgYW5zd2VyczogYW5zd2Vyc051bWJlciwgdm90ZXM6IHZvdGVzU3VtLCB0aXRsZTogcXVlc3Rpb24udGl0bGUsIHVzZXI6IHVzZXIudXNlcm5hbWUsIHF1ZXN0aW9uX2lkOiBxdWVzdGlvbi5xdWVzdGlvbl9pZCB9Ow0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gcXVlc3Rpb25zQXJyYXkucHVzaChxdWVzdGlvbk9iamVjdCk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbnN3ZXJPYmplY3QgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uYW5zd2VyLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvdGVzOiBhd2FpdCB0aGlzLmdldEFuc3dlclZvdGVzKGFuc3dlciksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjogdXNlci51c2VybmFtZQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbnN3ZXJzLnB1c2goYW5zd2VyT2JqZWN0KQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gdGhpcy5hbnN3ZXJzID0gdGhpcy5nZXRRdWVzdGlvbkRhdGEuYW5zd2VyczsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYW5zd2VycywgIlRIRSBBTlNXRVJTMSIpDQogICAgICAgICAgICAvLw0KICAgICAgICAgICAgY29uc3Qgdm90ZXNTdW0gPSB0aGlzLmdldFZvdGVzKCk7DQogICAgICAgICAgICAvL2NvbnNvbGUubG9nKCcnKQ0KICAgICAgICAgICAgLy8NCiAgICAgICAgICAgIHRoaXMucXVlc3Rpb25TdW1Wb3RlcyA9IHZvdGVzU3VtOw0KICAgICAgICAgICAgLy8NCiAgICAgICAgICAgIHRoaXMuZWRpdGVkUXVlc3Rpb25UaXRsZSA9IHRoaXMucXVlc3Rpb25FeGFtcGxlLnRpdGxlDQogICAgICAgIH0sDQogICAgfSwNCiAgICBjb21wdXRlZDogew0KICAgICAgICAuLi5tYXBHZXR0ZXJzKFsiZ2V0UXVlc3Rpb25EYXRhIl0pLA0KICAgICAgICB0b29sYmFyT3B0cygpOiBhbnkgew0KICAgICAgICAgICAgY29uc3QgYSA9IHsNCiAgICAgICAgICAgICAgICBtb2R1bGVzOiB7DQogICAgICAgICAgICAgICAgICAgIHRvb2xiYXI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogWw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt7ICdmb250JzogW10gfV0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgW3sgJ2hlYWRlcic6IFtmYWxzZSwgMSwgMiwgMywgNCwgNSwgNixdIH1dLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt7ICdzaXplJzogWydzbWFsbCcsIGZhbHNlLCAnbGFyZ2UnLCAnaHVnZSddIH1dLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnYm9sZCcsICdpdGFsaWMnLCAndW5kZXJsaW5lJywgJ3N0cmlrZSddLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt7ICdhbGlnbic6ICcnIH0sIHsgJ2FsaWduJzogJ2NlbnRlcicgfSwgeyAnYWxpZ24nOiAncmlnaHQnIH0sIHsgJ2FsaWduJzogJ2p1c3RpZnknIH1dLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt7ICdoZWFkZXInOiAxIH0sIHsgJ2hlYWRlcic6IDIgfV0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgWydibG9ja3F1b3RlJywgJ2NvZGUtYmxvY2snXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbeyAnbGlzdCc6ICdvcmRlcmVkJyB9LCB7ICdsaXN0JzogJ2J1bGxldCcgfSwgeyAnbGlzdCc6ICdjaGVjaycgfV0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgW3sgJ3NjcmlwdCc6ICdzdWInIH0sIHsgJ3NjcmlwdCc6ICdzdXBlcicgfV0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgW3sgJ2luZGVudCc6ICctMScgfSwgeyAnaW5kZW50JzogJysxJyB9XSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbeyAnY29sb3InOiBbXSB9LCB7ICdiYWNrZ3JvdW5kJzogW10gfV0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgWydsaW5rJywgJ2ltYWdlJywgJ3ZpZGVvJywgJ2Zvcm11bGEnXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbeyAnZGlyZWN0aW9uJzogJ3J0bCcgfV0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgWydjbGVhbiddLA0KICAgICAgICAgICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vICIjY3VzdG9tVG9vbGJhciIsDQogICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGVyczogew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGZvcm11bGE6DQogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJmb3JtdWxhIHdhcyBjbGlja2VkMjIyIik7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLmZvcm11bGFPbiA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvLyB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gYTsNCiAgICAgICAgfSwNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgYXN5bmMgcmVtb3ZlT2JqZWN0KHZhbHVlOiBhbnkpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbHVlLCAidGggZXZhbHVlIG9mIGRlbGV0ZSBxdWVzdGlvbiIpDQogICAgICAgICAgICAvLw0KICAgICAgICAgICAgY29uc29sZS5sb2codmFsdWUsICJ0aGUgdmFsdWUgb2YgcmVtb3ZlIG9iamVjdCIpDQogICAgICAgICAgICBjb25zdCBkZWxldGVBbnN3ZXJPYmplY3QgPSBhd2FpdCBkZWxldGVBbnN3ZXIodmFsdWUuYW5zd2VyX2lkKTsNCiAgICAgICAgICAgIC8vDQogICAgICAgICAgICAvLyB0aGlzLiRyb3V0ZXIuZ28oMCk7DQogICAgICAgICAgICB0aGlzLmZvcmNlVXBkYXRlUXVlc3Rpb24oKTsNCiAgICAgICAgfSwNCiAgICAgICAgYXN5bmMgZm9yY2VVcGRhdGVRdWVzdGlvbigpIHsNCiAgICAgICAgICAgIGNvbnN0IHF1ZXN0aW9uSWQgPSB0aGlzLmdldFF1ZXN0aW9uRGF0YS5kYXRhLnF1ZXN0aW9uX2lkOw0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9xdWVzdGlvbicpLmNhdGNoKChlcnI6IGFueSkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignZXJyb3IgaW4gcmVkaXJlY3QgdG8gL3F1ZXN0aW9uIDonLCBlcnIpDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGNvbnN0IHF1ZXN0aW9uRGF0YSA9IGF3YWl0IGdldFF1ZXN0aW9uKHF1ZXN0aW9uSWQpOw0KICAgICAgICAgICAgY29uc29sZS5sb2cocXVlc3Rpb25EYXRhLCAidGhlIHJvdyBkYXRhIik7DQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldFF1ZXN0aW9uRGF0YSIsIHF1ZXN0aW9uRGF0YSkNCiAgICAgICAgfSwNCiAgICAgICAgZm9yY2VVcGRhdGUoKSB7DQogICAgICAgICAgICB0aGlzLmZ1Q29udGVudCA9ICF0aGlzLmZ1Q29udGVudDsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0Vm90ZXMoKSB7DQogICAgICAgICAgICBjb25zdCB2b3Rlc0FycmF5OiBhbnlbXSA9IFtdDQogICAgICAgICAgICBjb25zdCB2b3RlcyA9IHRoaXMuZ2V0UXVlc3Rpb25EYXRhLnZvdGVzDQogICAgICAgICAgICAvL2NhbGN1bGF0ZSB2b3Rlcw0KICAgICAgICAgICAgZm9yIChjb25zdCB2b3RlIG9mIHZvdGVzKSB7DQogICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB2b3RlLnZhbHVlDQogICAgICAgICAgICAgICAgdm90ZXNBcnJheS5wdXNoKHZhbHVlKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy9nZXQgdGhlIHN1bQ0KICAgICAgICAgICAgY29uc3Qgdm90ZXNTdW0gPSB2b3Rlc0FycmF5LnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApDQogICAgICAgICAgICByZXR1cm4gdm90ZXNTdW07DQogICAgICAgIH0sDQogICAgICAgIC8vIGdldEFuc3dlclZvdGVzMCh2YWx1ZTogYW55KSB7DQogICAgICAgIC8vICAgICBjb25zdCB2b3RlcyA9IGF3YWl0IHRoaXMuZ2V0QW5zd2VyVm90ZXModmFsdWUpDQogICAgICAgIC8vIH0sDQogICAgICAgIGFzeW5jIGdldEFuc3dlclZvdGVzKHZhbHVlOiBhbnkpIHsNCiAgICAgICAgICAgIGNvbnN0IGFuc3dlclZvdGVzQXJyYXk6IGFueVtdID0gW10NCiAgICAgICAgICAgIGNvbnN0IGFuc3dlckRhdGEgPSBhd2FpdCBnZXRBbnN3ZXIodmFsdWUuYW5zd2VyX2lkKQ0KICAgICAgICAgICAgY29uc29sZS5sb2coYW5zd2VyRGF0YSwgIlRIRSBBTlNXRVIgREFUQSIpDQogICAgICAgICAgICAvLyBjb25zdCB2b3RlcyA9IHRoaXMuZ2V0UXVlc3Rpb25EYXRhLnZvdGVzDQogICAgICAgICAgICAvL2NhbGN1bGF0ZSB2b3Rlcw0KICAgICAgICAgICAgLy8gaWYoYW5zd2VyRGF0YS5Vc2VyVXNlcklkICE9PW51bGwpe30NCiAgICAgICAgICAgIGZvciAoY29uc3Qgdm90ZSBvZiBhbnN3ZXJEYXRhLmFuc3dlclZvdGVzKSB7DQogICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB2b3RlLnZhbHVlOw0KICAgICAgICAgICAgICAgIGFuc3dlclZvdGVzQXJyYXkucHVzaCh2YWx1ZSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vZ2V0IHRoZSBzdW0NCiAgICAgICAgICAgIGNvbnN0IHZvdGVzU3VtID0gYW5zd2VyVm90ZXNBcnJheS5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKQ0KICAgICAgICAgICAgY29uc29sZS5sb2codm90ZXNTdW0sICd0ZWggdm90ZXMgb2YgYW5zd2VyJykNCiAgICAgICAgICAgIC8vIHRoaXMuYW5zd2VyVm90ZXMgPSB2b3Rlc1N1bTsNCiAgICAgICAgICAgIHJldHVybiB2b3Rlc1N1bTsNCiAgICAgICAgfSwNCiAgICAgICAgcG9zdEFuc3dlcjEoKSB7DQogICAgICAgICAgICBjb25zdCBkYXRhID0geyBib2R5OiB0aGlzLmFuc3dlckJvZHksIFF1ZXN0aW9uUXVlc3Rpb25JZDogdGhpcy5nZXRRdWVzdGlvbkRhdGEuZGF0YS5xdWVzdGlvbl9pZCB9DQogICAgICAgICAgICBwb3N0QW5zd2VyKGRhdGEpOyAvLyBkZW4gYW5hbmV3bmV0YWkgYW1lc3dzIGggc2VsaWRhIG5hIGZhbmVpIGggYXBhbnRpc2gga2FpIHN0ZWxuZWkgbW9ubyBwZXJpb3Jpc21lbm8gYWlydGhtbyBsZWtzZXduLCAgdmdhemVpIGVycm9yIDUwMCBtZXRhDQogICAgICAgICAgICAvLw0KICAgICAgICAgICAgdGhpcy5mb3JjZVVwZGF0ZVF1ZXN0aW9uKCk7DQogICAgICAgICAgICB0aGlzLmFuc3dlckJvZHkgPSAiIg0KDQogICAgICAgIH0sDQogICAgICAgIHVwVm90ZVF1ZXN0aW9uKCkgew0KICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsgdmFsdWU6IDEsIFF1ZXN0aW9uUXVlc3Rpb25JZDogdGhpcy5nZXRRdWVzdGlvbkRhdGEuZGF0YS5xdWVzdGlvbl9pZCB9DQogICAgICAgICAgICB2b3RlUXVlc3Rpb24oZGF0YSk7DQogICAgICAgICAgICAvLyANCiAgICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5nbygwKTsNCiAgICAgICAgICAgIHRoaXMuZm9yY2VVcGRhdGVRdWVzdGlvbigpOw0KICAgICAgICB9LA0KICAgICAgICBkb3duVm90ZVF1ZXN0aW9uKCkgew0KICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsgdmFsdWU6IC0xLCBRdWVzdGlvblF1ZXN0aW9uSWQ6IHRoaXMuZ2V0UXVlc3Rpb25EYXRhLmRhdGEucXVlc3Rpb25faWQgfQ0KICAgICAgICAgICAgdm90ZVF1ZXN0aW9uKGRhdGEpOw0KICAgICAgICAgICAgLy8NCiAgICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5nbygwKTsNCiAgICAgICAgICAgIHRoaXMuZm9yY2VVcGRhdGVRdWVzdGlvbigpOw0KICAgICAgICB9LA0KICAgICAgICBmb3JtdWxhMih2YWx1ZTogYW55KSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyh2YWx1ZSwgJ3RlaCBmb3JtdWxhIHZhbHVlJykNCiAgICAgICAgfSwNCiAgICAgICAgZWRpdFF1ZXN0aW9uKHZhbHVlOiBhbnkpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbHVlLCAidGhlIHZhbHVlIG9mIGVkaXRlZCBxdWVzdGlvbiIpDQogICAgICAgICAgICAvLyB0aGlzLmVkaXRRdWVzdGlvbkZvcm0gPSB0cnVlOw0KICAgICAgICAgICAgdGhpcy5lZGl0aW5nID0gdHJ1ZQ0KICAgICAgICAgICAgdGhpcy5lZGl0ZWRRdWVzdGlvbkJvZHkgPSB0aGlzLnF1ZXN0aW9uRXhhbXBsZS5ib2R5DQogICAgICAgIH0sDQogICAgICAgIGFzeW5jIHVwZGF0ZVF1ZXN0aW9uKCkgew0KICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB7IGJvZHk6IHRoaXMuZWRpdGVkUXVlc3Rpb25Cb2R5LCB0aXRsZTogdGhpcy5lZGl0ZWRRdWVzdGlvblRpdGxlLCB9DQogICAgICAgICAgICBjb25zdCBxdWVzdGlvbklkID0gdGhpcy5nZXRRdWVzdGlvbkRhdGEuZGF0YS5xdWVzdGlvbl9pZA0KICAgICAgICAgICAgYXdhaXQgdXBkYXRlUXVlc3Rpb24xKHF1ZXN0aW9uSWQsIHZhbHVlKTsNCiAgICAgICAgICAgIHRoaXMuZWRpdGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgLy8gDQogICAgICAgICAgICAvLyB0aGlzLiRyb3V0ZXIuZ28oMCk7DQogICAgICAgICAgICB0aGlzLmZvcmNlVXBkYXRlUXVlc3Rpb24oKTsNCiAgICAgICAgfSwNCiAgICAgICAgZm9ybXVsYU9mZigpIHsNCiAgICAgICAgICAgIHRoaXMuZm9ybXVsYU9uID0gZmFsc2U7DQogICAgICAgIH0sDQogICAgICAgIGFzeW5jIHBhc3RlRm9ybXVsYSgpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJjbGljayBlbnRlciB0byBwYXN0ZSBmb3JtdWxhIikNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybXVsYVRleHQsICJ0aGUgZm9ybXVsYSB0ZXh0IG9uIHBhc3RlIikNCiAgICAgICAgICAgIC8vIHRoaXMuJHJlZnMuZWRpdG9yMj8ucXVpbGwuc2V0Q29udGVudHMoW3sgaW5zZXJ0OiB7IGZvcm11bGE6IHRoaXMuZm9ybXVsYVRleHQgfSB9XSkNCiAgICAgICAgICAgIGF3YWl0IHRoaXMuJG5leHRUaWNrKCkNCiAgICAgICAgICAgIHRoaXMuZm9ybXVsYVRleHQyID0gIiAiDQogICAgICAgICAgICB0aGlzLmZvcm11bGFUZXh0ID0gIiAiDQoNCiAgICAgICAgfSwNCiAgICAgICAgaW5wdXRGb3JtdWxhKHZhbHVlOiBhbnkpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbHVlLCAidGhlIGlucHV0IHZhbHVlIikNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbHVlLnRhcmdldC5nZXRWYWx1ZSgibGF0ZXgtZXhwYW5kZWQiKSkNCiAgICAgICAgICAgIHRoaXMuZm9ybXVsYVRleHQgPSB2YWx1ZS50YXJnZXQuZ2V0VmFsdWUoImxhdGV4LXVuc3R5bGVkIikNCiAgICAgICAgfSwNCiAgICAgICAgYXN5bmMgdXBWb3RlQW5zd2VyKHZhbHVlOiBhbnkpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbHVlLCAidmFsdWUgb2YgdXAgdm90ZSBhbnN3ZXIiKTsNCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7IHZhbHVlOiAxLCBBbnN3ZXJBbnN3ZXJJZDogdmFsdWUuYW5zd2VyX2lkIH0NCiAgICAgICAgICAgIGF3YWl0IHZvdGVBbnN3ZXIoZGF0YSk7DQogICAgICAgICAgICAvLyANCiAgICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5nbygwKTsNCiAgICAgICAgICAgIHRoaXMuZm9yY2VVcGRhdGVRdWVzdGlvbigpOw0KICAgICAgICB9LA0KICAgICAgICBhc3luYyBkb3duVm90ZUFuc3dlcih2YWx1ZTogYW55KSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyh2YWx1ZSwgInZhbHVlIG9mIGRvd24gdm90ZSBhbnN3ZXIiKQ0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2codmFsdWUsICJ2YWx1ZSBvZiB1cCB2b3RlIGFuc3dlciIpOw0KICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsgdmFsdWU6IC0xLCBBbnN3ZXJBbnN3ZXJJZDogdmFsdWUuYW5zd2VyX2lkIH0NCiAgICAgICAgICAgIGF3YWl0IHZvdGVBbnN3ZXIoZGF0YSk7DQogICAgICAgICAgICAvLyANCiAgICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5nbygwKTsNCiAgICAgICAgICAgIHRoaXMuZm9yY2VVcGRhdGVRdWVzdGlvbigpOw0KICAgICAgICB9LA0KICAgICAgICBhc3luYyB1cGRhdGVBbnN3ZXIoYm9keTogYW55KSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhib2R5LCAndGhlIGJvZHkgd2hpY2ggZ29ubmEgYmUgdXBkYXRlZCcpDQogICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHsgYm9keTogdGhpcy5lZGl0ZWRBbnN3ZXJCb2R5IH0NCiAgICAgICAgICAgIGNvbnN0IGFuc3dlcklkID0gdGhpcy51cGRhdGVkQW5zd2VyLmFuc3dlcl9pZA0KICAgICAgICAgICAgYXdhaXQgdXBkYXRlQW5zd2VyMShhbnN3ZXJJZCwgdmFsdWUpOw0KICAgICAgICAgICAgdGhpcy5hbnN3ZXJFZGl0aW5nID0gZmFsc2U7DQogICAgICAgICAgICAvLyANCiAgICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5nbygwKTsNCiAgICAgICAgICAgIHRoaXMuZm9yY2VVcGRhdGVRdWVzdGlvbigpOw0KICAgICAgICB9LA0KICAgICAgICBzaG93QW5zd2VyRWRpdCh2YWx1ZTogYW55KSB7DQogICAgICAgICAgICB0aGlzLmFuc3dlckVkaXRpbmcgPSB0cnVlDQogICAgICAgICAgICBjb25zb2xlLmxvZyh2YWx1ZSwgJ3RoZSBhbnN3ZXIgd2hpY2ggZ29ubmEgYmUgdXBkYXRlZCcpDQogICAgICAgICAgICB0aGlzLnVwZGF0ZWRBbnN3ZXIgPSB2YWx1ZQ0KICAgICAgICAgICAgdGhpcy5lZGl0ZWRBbnN3ZXJCb2R5ID0gdmFsdWUuYm9keQ0KICAgICAgICB9DQogICAgfSwNCiAgICBtb3VudGVkKCkgew0KICAgICAgICB3aW5kb3cua2F0ZXggPSBrYXRleDsNCiAgICAgICAgdGhpcy5nZXRRdWVzdGlvbkRhdGE7DQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZ2V0UXVlc3Rpb25EYXRhKTsNCiAgICAgICAgLy8gY29uc3QgcXVpbGwgPSBuZXcgUXVpbGwoJyNlZGl0b3InLCB7DQogICAgICAgIC8vICAgICBtb2R1bGVzOiB7DQogICAgICAgIC8vICAgICAgICAgdG9vbGJhcjoNCiAgICAgICAgLy8gICAgICAgICAgICAgWw0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgW3sgaGVhZGVyOiBbMSwgMiwgZmFsc2VdIH1dLA0KICAgICAgICAvLyAgICAgICAgICAgICAgICAgWydib2xkJywgJ2l0YWxpYycsICd1bmRlcmxpbmUnXSwNCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIFsnaW1hZ2UnLCAnY29kZS1ibG9jayddDQogICAgICAgIC8vICAgICAgICAgICAgIF0NCiAgICAgICAgLy8gICAgIH0sDQoNCiAgICAgICAgLy8gfSk7DQogICAgfQ0KfSkNCg=="},{"version":3,"sources":["question.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"question.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <v-container fluid>\r\n        <!-- The question -->\r\n        <v-card flat :key=\"fuContent\">\r\n            <v-toolbar flat class=\"ps-0\" v-if=\"!editing\">\r\n                <v-toolbar-title class=\"ps-0\">\r\n                    <span>\r\n                        {{ this.questionExample.title }}\r\n                    </span>\r\n                </v-toolbar-title>\r\n\r\n                <v-spacer></v-spacer>\r\n                <!-- <v-btn small outlined rounded text> Delete Question </v-btn> -->\r\n                <v-icon>mdi-help</v-icon>\r\n            </v-toolbar>\r\n            <v-card v-if=\"editing\" flat style=\"border: 1px solid yellow\">\r\n                <v-card-text v-if=\"editing\" class=\"pb-0\">\r\n                    <v-textarea\r\n                        rows=\"2\"\r\n                        v-model=\"editedQuestionTitle\"\r\n                    ></v-textarea>\r\n                </v-card-text>\r\n            </v-card>\r\n            <v-divider></v-divider>\r\n            <v-card-text>\r\n                <vue-editor\r\n                    v-if=\"!editing\"\r\n                    class=\"kappa2\"\r\n                    disabled\r\n                    v-model=\"this.questionExample.body\"\r\n                    :editorOptions=\"editorOptions\"\r\n                ></vue-editor>\r\n                <v-card v-if=\"editing\" flat style=\"border: 1px solid yellow\">\r\n                    <v-card-text>\r\n                        <vue-editor\r\n                            class=\"pt-0\"\r\n                            v-model=\"editedQuestionBody\"\r\n                            :editorOptions=\"toolbarOpts_old\"\r\n                        >\r\n                        </vue-editor>\r\n                    </v-card-text>\r\n                    <v-card-actions>\r\n                        <v-row justify=\"center\" align=\"center\">\r\n                            <v-col justify=\"center\" align=\"center\">\r\n                                <v-btn\r\n                                    class=\"me-3\"\r\n                                    small\r\n                                    dark\r\n                                    color=\"teal\"\r\n                                    @click=\"editing = false\"\r\n                                >\r\n                                    cancel\r\n                                </v-btn>\r\n                                <v-btn\r\n                                    small\r\n                                    outlined\r\n                                    color=\"teal\"\r\n                                    @click=\"updateQuestion\"\r\n                                >\r\n                                    update</v-btn\r\n                                >\r\n                            </v-col>\r\n                        </v-row>\r\n                    </v-card-actions>\r\n                </v-card>\r\n                <!-- <vue-editor\r\n                    v-if=\"editing\"\r\n                    class=\"pt-4\"\r\n                    v-model=\"editedQuestionBody\"\r\n                    :editorOptions=\"toolbarOpts_old\"\r\n                >\r\n                </vue-editor> -->\r\n                <v-row class=\"mt-15\">\r\n                    <!-- <div> -->\r\n                    <v-btn right x-large icon>\r\n                        <v-icon @click=\"upVoteQuestion\">mdi-menu-up</v-icon>\r\n                    </v-btn>\r\n                    <v-chip color=\"deep-orange lighten-2\" class=\"mt-3\">\r\n                        {{ this.questionSumVotes }}\r\n                    </v-chip>\r\n                    <!-- </div> -->\r\n                    <v-btn right x-large icon>\r\n                        <v-icon @click=\"downVoteQuestion\">mdi-menu-down</v-icon>\r\n                    </v-btn>\r\n                    <v-spacer></v-spacer>\r\n                    <span class=\"me-9\">\r\n                        <v-btn\r\n                            small\r\n                            outlined\r\n                            rounded\r\n                            text\r\n                            @click=\"editQuestion\"\r\n                        >\r\n                            EDIT Question\r\n                        </v-btn>\r\n                    </span>\r\n                    <span class=\"me-9\" v-if=\"admin\">\r\n                        <v-btn small outlined rounded text>\r\n                            Delete Question\r\n                        </v-btn>\r\n                    </span>\r\n                </v-row>\r\n            </v-card-text>\r\n            <!-- <v-row>\r\n                        <div>\r\n                            <v-chip> 12 </v-chip>\r\n                            <v-btn right large icon>\r\n                                <v-icon>mdi-chevron-up</v-icon>\r\n                            </v-btn>\r\n                        </div>\r\n                        <v-spacer></v-spacer>\r\n                        <v-icon> mdi-icon </v-icon>\r\n                    </v-row> -->\r\n        </v-card>\r\n        <!-- <v-dialog v-model=\"editQuestionForm\" width=\"800\">\r\n            <v-card>\r\n                <v-card-text>\r\n                    <vue-editor\r\n                        class=\"pt-4\"\r\n                        v-model=\"editedQuestionBody\"\r\n                        :editorOptions=\"toolbarOpts_old\"\r\n                    >\r\n                    </vue-editor>\r\n                </v-card-text>\r\n                <v-card-actions>\r\n                    <v-row justify=\"center\" align=\"center\">\r\n                        <v-col justify=\"center\" align=\"center\">\r\n                            <v-btn small outlined color=\"teal\"> update</v-btn>\r\n                        </v-col>\r\n                    </v-row>\r\n                </v-card-actions>\r\n            </v-card>\r\n        </v-dialog> -->\r\n        <!-- type an answer-->\r\n        <br />\r\n        <br />\r\n        <v-card flat>\r\n            <v-toolbar flat>\r\n                <v-toolbar-title class=\"text-body-1\"> </v-toolbar-title>\r\n                <v-spacer></v-spacer>\r\n                <v-icon>mdi-forum</v-icon>\r\n            </v-toolbar>\r\n            <v-card-text>\r\n                <v-form>\r\n                    <h3>Your Answer</h3>\r\n\r\n                    <vue-editor\r\n                        ref=\"editor2\"\r\n                        class=\"mt-3\"\r\n                        v-model=\"answerBody\"\r\n                        :editorOptions=\"toolbarOpts_old\"\r\n                    >\r\n                    </vue-editor>\r\n                </v-form>\r\n                <!-- <math-field\r\n                    v-model=\"formulaText2\"\r\n                    v-on:keyup.enter=\"pasteFormula\"\r\n                    @input=\"inputFormula\"\r\n                ></math-field> -->\r\n\r\n                <v-row>\r\n                    <div class=\"mt-8 ms-3\">\r\n                        <v-btn small outlined text @click=\"postAnswer1\">\r\n                            Post Your Answer\r\n                        </v-btn>\r\n                    </div>\r\n                    <v-spacer></v-spacer>\r\n                    <v-icon> mdi-icon </v-icon>\r\n                </v-row>\r\n            </v-card-text>\r\n        </v-card>\r\n        <!-- table with answers-->\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <v-card flat>\r\n            <v-toolbar flat>\r\n                <v-toolbar-title> Answers </v-toolbar-title>\r\n                <v-spacer></v-spacer>\r\n                <v-icon>mdi-database</v-icon>\r\n            </v-toolbar>\r\n            <v-card-text>\r\n                <v-data-table\r\n                    :headers=\"answersCols\"\r\n                    :items=\"this.answers\"\r\n                    v-if=\"admin\"\r\n                >\r\n                    <template v-slot:[`item.votes`]=\"props\">\r\n                        <v-btn right x-large icon>\r\n                            <v-icon @click=\"upVoteAnswer(props.item)\"\r\n                                >mdi-menu-up</v-icon\r\n                            >\r\n                        </v-btn>\r\n                        <v-chip color=\"deep-orange lighten-2\" class=\"mt-3\">\r\n                            <!-- {{ this.answerSumVotes }} -->{{\r\n                                props.item.votes\r\n                            }}\r\n                        </v-chip>\r\n                        <!-- </div> -->\r\n                        <v-btn right x-large icon>\r\n                            <v-icon @click=\"downVoteAnswer(props.item)\"\r\n                                >mdi-menu-down</v-icon\r\n                            >\r\n                        </v-btn>\r\n                    </template>\r\n                    <template v-slot:[`item.body`]=\"props\">\r\n                        <!-- <v-icon small @click=\"removeObject(props.item)\"\r\n                            >mdi-delete</v-icon\r\n                        > -->\r\n                        <span>\r\n                            <vue-editor\r\n                                class=\"kappa\"\r\n                                disabled\r\n                                v-model=\"props.item.body\"\r\n                                :editorOptions=\"editorOptions\"\r\n                                :style=\"editorStyle\"\r\n                            >\r\n                            </vue-editor>\r\n                        </span>\r\n                        <!-- <span v-if=\"answerEditing\">\r\n                            <vue-editor\r\n                                class=\"kappa2\"\r\n                                v-model=\"props.item.body\"\r\n                                :editorOptions=\"editorOptions\"\r\n                                :style=\"editorStyle\"\r\n                            ></vue-editor> -->\r\n                        <!-- </span> -->\r\n                    </template>\r\n                    <template v-slot:[`item.edit`]=\"props\">\r\n                        <v-icon small @click=\"showAnswerEdit(props.item)\"\r\n                            >mdi-pencil</v-icon\r\n                        >\r\n                        <v-dialog v-model=\"answerEditing\" height=\"800\">\r\n                            <v-card>\r\n                                <v-card-text class=\"pa-4\">\r\n                                    <vue-editor\r\n                                        v-model=\"editedAnswerBody\"\r\n                                        :editorOptions=\"toolbarOpts_old\"\r\n                                    ></vue-editor>\r\n                                    <!-- {{ props.item.body }} -->\r\n                                </v-card-text>\r\n                                <v-card-actions>\r\n                                    <v-row justify=\"center\" align=\"center\">\r\n                                        <v-col justify=\"center\" align=\"center\">\r\n                                            <v-btn\r\n                                                class=\"me-3\"\r\n                                                small\r\n                                                dark\r\n                                                color=\"teal\"\r\n                                                @click=\"answerEditing = false\"\r\n                                            >\r\n                                                cancel\r\n                                            </v-btn>\r\n                                            <v-btn\r\n                                                small\r\n                                                outlined\r\n                                                color=\"teal\"\r\n                                                @click=\"\r\n                                                    updateAnswer(\r\n                                                        props.item.body\r\n                                                    )\r\n                                                \"\r\n                                            >\r\n                                                update</v-btn\r\n                                            >\r\n                                        </v-col>\r\n                                    </v-row>\r\n                                </v-card-actions>\r\n                            </v-card>\r\n                        </v-dialog>\r\n                    </template>\r\n                    <template v-slot:[`item.remove`]=\"props\">\r\n                        <v-icon small @click=\"removeObject(props.item)\"\r\n                            >mdi-delete</v-icon\r\n                        >\r\n                    </template>\r\n                </v-data-table>\r\n            </v-card-text>\r\n        </v-card>\r\n    </v-container>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport Vue, { PropType } from 'vue'\r\nimport { mapGetters } from 'vuex';\r\nimport { deleteAnswer, getAnswer, getQuestion, getUser, getUsers, postAnswer, updateAnswer1, updateQuestion1, voteAnswer, voteQuestion } from './functions';\r\nimport { question1 } from './types';\r\nimport { VueEditor } from \"vue2-editor\";\r\nimport katex from 'katex';\r\nimport 'katex/dist/katex.min.css';\r\n// import * as mathLive from \"mathlive\"\r\nimport Quill from 'quill';\r\n// Vue.use(mathLive);\r\n//declaration for katex\r\ndeclare global {\r\n    interface Window {\r\n        katex: any;\r\n    }\r\n}\r\n//\r\nexport default Vue.extend({\r\n\r\n    components: { VueEditor },\r\n    props: {\r\n        question: {\r\n            type: Object as PropType<question1>,\r\n            default: () => {\r\n                const question: question1 = { uid: '', title: \"\", body: '', userId: '' };\r\n                return question\r\n            }\r\n        }\r\n    },\r\n    data: () => ({\r\n        admin: true,\r\n        user: false, //me v if an einai o user mporei na svisei tin erwthsh tu\r\n        answerBody: \"\",\r\n        answersCols: [\r\n            {\r\n                text: 'Votes',\r\n                align: 'start',\r\n                sortable: true,\r\n                value: 'votes'\r\n            },\r\n            {\r\n                text: 'Answer',\r\n                align: 'start',\r\n                sortable: true,\r\n                value: 'body',\r\n                height: \"20%\"\r\n            },\r\n            {\r\n                text: 'User',\r\n                align: 'start',\r\n                sortable: true,\r\n                value: 'user'\r\n            },\r\n            //  {\r\n            //     text: 'Id',\r\n            //     align: 'start',\r\n            //     sortable: true,\r\n            //     value: 'answer_id'\r\n            // },\r\n\r\n            { text: \"\", align: 'center', sortable: true, value: 'edit', width: '1%' },\r\n            { text: \"\", align: 'center', sortable: true, value: 'remove', width: '1%' }\r\n        ], // na ftiaxtei typos gia tis answers\r\n        answers: [] as any[],\r\n        questionExample: {} as any, // na ftiaxtei tupos\r\n        fuContent: true,\r\n        questionSumVotes: 0,\r\n        editorOptions: {\r\n            modules: {\r\n                toolbar: false,\r\n            },\r\n            // handlers: {\r\n            //     customControl: () => {\r\n            //         console.log(\"customControl was clicked\");\r\n            //     }\r\n            // },\r\n        },\r\n        // toolbarOpts: {\r\n        toolbarOpts_old: {\r\n            modules: {\r\n                toolbar: {\r\n                    container: [\r\n                        [{ 'font': [] }],\r\n                        [{ 'header': [false, 1, 2, 3, 4, 5, 6,] }],\r\n                        [{ 'size': ['small', false, 'large', 'huge'] }],\r\n                        ['bold', 'italic', 'underline', 'strike'],\r\n                        [{ 'align': '' }, { 'align': 'center' }, { 'align': 'right' }, { 'align': 'justify' }],\r\n                        [{ 'header': 1 }, { 'header': 2 }],\r\n                        ['blockquote', 'code-block'],\r\n                        [{ 'list': 'ordered' }, { 'list': 'bullet' }, { 'list': 'check' }],\r\n                        [{ 'script': 'sub' }, { 'script': 'super' }],\r\n                        [{ 'indent': '-1' }, { 'indent': '+1' }],\r\n                        [{ 'color': [] }, { 'background': [] }],\r\n                        ['formula'],\r\n                        [{ 'direction': 'rtl' }],\r\n\r\n                        //the custom button for the formulas in order to be used with math live , math field\r\n                        // [{ 'customBtn': 'formula' }]\r\n                        // ['customBtn222']\r\n                    ],\r\n                    // \"#customToolbar\",\r\n                    // handlers: {\r\n                    //     formula:\r\n                    //         () => {\r\n                    //             console.log(\"formula was clicked222\");\r\n\r\n                    //         }\r\n                    // }\r\n                }\r\n            }\r\n            // }\r\n        },\r\n        customToolbar: [\r\n            [{ 'font': [] }],\r\n            [{ 'header': [false, 1, 2, 3, 4, 5, 6,] }],\r\n            [{ 'size': ['small', false, 'large', 'huge'] }],\r\n            ['bold', 'italic', 'underline', 'strike'],\r\n            [{ 'align': '' }, { 'align': 'center' }, { 'align': 'right' }, { 'align': 'justify' }],\r\n            [{ 'header': 1 }, { 'header': 2 }],\r\n            ['blockquote', 'code-block'],\r\n            [{ 'list': 'ordered' }, { 'list': 'bullet' }, { 'list': 'check' }],\r\n            [{ 'script': 'sub' }, { 'script': 'super' }],\r\n            [{ 'indent': '-1' }, { 'indent': '+1' }],\r\n            [{ 'color': [] }, { 'background': [] }],\r\n            ['link', 'image', 'video', 'formula'],\r\n            [{ 'direction': 'rtl' }],\r\n            ['clean'],\r\n            // ['ql-customBtn']\r\n        ],\r\n        editorStyle: {\r\n            \"height\": '60px',\r\n            // \"border\": \"1px solid transparent\"\r\n\r\n        },\r\n        formulaOn: false,\r\n        formulaText: \"\",\r\n        formulaText2: \"\",\r\n        answerVotes: [] as any[],\r\n        editQuestionForm: false,\r\n        editing: false,\r\n        editedQuestionBody: \"\",\r\n        editedQuestionTitle: \"\",\r\n        answerEditing: false,\r\n        updatedAnswer: {} as any,\r\n        editedAnswerBody: ''\r\n    }),\r\n    watch: {\r\n        question() {\r\n            this.questionExample = this.question;\r\n        },\r\n        formulaOn(value: boolean) {\r\n            console.log(value, 'The value of formula on')\r\n        },\r\n        formulaText(value: any) {\r\n            console.log(value, \"teh fprmula text\")\r\n        },\r\n        // \r\n        async getQuestionData(value: any) {\r\n            //clean answers table\r\n            const empty: any[] = []\r\n            this.answers = empty;\r\n            //\r\n            console.log(value, \"the value of question data\")\r\n            this.questionExample = {\r\n                uid: this.getQuestionData.data.question_id,//\"\",\r\n                title: this.getQuestionData.data.title,\r\n                body: this.getQuestionData.data.body,\r\n                userId: this.getQuestionData.data.UserUserId\r\n            }\r\n            // TO BE FIXED THE NAME OF USER IN ANSWERS\r\n\r\n            // for (const answer of this.getQuestionData.answers) {\r\n            //     console.log(answer, \"THE ANSWER\")\r\n\r\n            //     const userId = answer.UserUserId\r\n            //     console.log(userId, \"THE USER ID\")\r\n            //     const user = await getUser(userId);\r\n            //     console.log(user, \"THE USER\")\r\n            //     const answerObject = { body: answer.body, user: user.data.username, /*answer_id: answer.answer_id */ };\r\n            //     this.answers.push(answerObject);\r\n            // }\r\n            const users = await getUsers();\r\n            for (const answer of this.getQuestionData.answers) {\r\n                //\r\n                for (const user of users) {\r\n                    if (user.user_id === answer.UserUserId) {\r\n                        // const questionObject = { answers: answersNumber, votes: votesSum, title: question.title, user: user.username, question_id: question.question_id };\r\n                        // questionsArray.push(questionObject);\r\n                        const answerObject = {\r\n                            ...answer,\r\n                            votes: await this.getAnswerVotes(answer),\r\n                            user: user.username\r\n                        }\r\n                        this.answers.push(answerObject)\r\n                    }\r\n                }\r\n            }\r\n            // this.answers = this.getQuestionData.answers;\r\n            console.log(this.answers, \"THE ANSWERS1\")\r\n            //\r\n            const votesSum = this.getVotes();\r\n            //console.log('')\r\n            //\r\n            this.questionSumVotes = votesSum;\r\n            //\r\n            this.editedQuestionTitle = this.questionExample.title\r\n        },\r\n    },\r\n    computed: {\r\n        ...mapGetters([\"getQuestionData\"]),\r\n        toolbarOpts(): any {\r\n            const a = {\r\n                modules: {\r\n                    toolbar: {\r\n                        container: [\r\n                            [{ 'font': [] }],\r\n                            [{ 'header': [false, 1, 2, 3, 4, 5, 6,] }],\r\n                            [{ 'size': ['small', false, 'large', 'huge'] }],\r\n                            ['bold', 'italic', 'underline', 'strike'],\r\n                            [{ 'align': '' }, { 'align': 'center' }, { 'align': 'right' }, { 'align': 'justify' }],\r\n                            [{ 'header': 1 }, { 'header': 2 }],\r\n                            ['blockquote', 'code-block'],\r\n                            [{ 'list': 'ordered' }, { 'list': 'bullet' }, { 'list': 'check' }],\r\n                            [{ 'script': 'sub' }, { 'script': 'super' }],\r\n                            [{ 'indent': '-1' }, { 'indent': '+1' }],\r\n                            [{ 'color': [] }, { 'background': [] }],\r\n                            ['link', 'image', 'video', 'formula'],\r\n                            [{ 'direction': 'rtl' }],\r\n                            ['clean'],\r\n                        ],\r\n                        // \"#customToolbar\",\r\n                        // handlers: {\r\n                        //     formula:\r\n                        //         () => {\r\n                        //             console.log(\"formula was clicked222\");\r\n                        //             this.formulaOn = true;\r\n                        //         }\r\n                        // }\r\n                    }\r\n                }\r\n                // }\r\n            }\r\n            return a;\r\n        },\r\n    },\r\n    methods: {\r\n        async removeObject(value: any) {\r\n            console.log(value, \"th evalue of delete question\")\r\n            //\r\n            console.log(value, \"the value of remove object\")\r\n            const deleteAnswerObject = await deleteAnswer(value.answer_id);\r\n            //\r\n            // this.$router.go(0);\r\n            this.forceUpdateQuestion();\r\n        },\r\n        async forceUpdateQuestion() {\r\n            const questionId = this.getQuestionData.data.question_id;\r\n            this.$router.push('/question').catch((err: any) => {\r\n                console.warn('error in redirect to /question :', err)\r\n            });\r\n            const questionData = await getQuestion(questionId);\r\n            console.log(questionData, \"the row data\");\r\n            this.$store.commit(\"setQuestionData\", questionData)\r\n        },\r\n        forceUpdate() {\r\n            this.fuContent = !this.fuContent;\r\n        },\r\n        getVotes() {\r\n            const votesArray: any[] = []\r\n            const votes = this.getQuestionData.votes\r\n            //calculate votes\r\n            for (const vote of votes) {\r\n                const value = vote.value\r\n                votesArray.push(value)\r\n            }\r\n            //get the sum\r\n            const votesSum = votesArray.reduce((a, b) => a + b, 0)\r\n            return votesSum;\r\n        },\r\n        // getAnswerVotes0(value: any) {\r\n        //     const votes = await this.getAnswerVotes(value)\r\n        // },\r\n        async getAnswerVotes(value: any) {\r\n            const answerVotesArray: any[] = []\r\n            const answerData = await getAnswer(value.answer_id)\r\n            console.log(answerData, \"THE ANSWER DATA\")\r\n            // const votes = this.getQuestionData.votes\r\n            //calculate votes\r\n            // if(answerData.UserUserId !==null){}\r\n            for (const vote of answerData.answerVotes) {\r\n                const value = vote.value;\r\n                answerVotesArray.push(value)\r\n            }\r\n            //get the sum\r\n            const votesSum = answerVotesArray.reduce((a, b) => a + b, 0)\r\n            console.log(votesSum, 'teh votes of answer')\r\n            // this.answerVotes = votesSum;\r\n            return votesSum;\r\n        },\r\n        postAnswer1() {\r\n            const data = { body: this.answerBody, QuestionQuestionId: this.getQuestionData.data.question_id }\r\n            postAnswer(data); // den ananewnetai amesws h selida na fanei h apantish kai stelnei mono periorismeno airthmo leksewn,  vgazei error 500 meta\r\n            //\r\n            this.forceUpdateQuestion();\r\n            this.answerBody = \"\"\r\n\r\n        },\r\n        upVoteQuestion() {\r\n            const data = { value: 1, QuestionQuestionId: this.getQuestionData.data.question_id }\r\n            voteQuestion(data);\r\n            // \r\n            // this.$router.go(0);\r\n            this.forceUpdateQuestion();\r\n        },\r\n        downVoteQuestion() {\r\n            const data = { value: -1, QuestionQuestionId: this.getQuestionData.data.question_id }\r\n            voteQuestion(data);\r\n            //\r\n            // this.$router.go(0);\r\n            this.forceUpdateQuestion();\r\n        },\r\n        formula2(value: any) {\r\n            console.log(value, 'teh formula value')\r\n        },\r\n        editQuestion(value: any) {\r\n            console.log(value, \"the value of edited question\")\r\n            // this.editQuestionForm = true;\r\n            this.editing = true\r\n            this.editedQuestionBody = this.questionExample.body\r\n        },\r\n        async updateQuestion() {\r\n            const value = { body: this.editedQuestionBody, title: this.editedQuestionTitle, }\r\n            const questionId = this.getQuestionData.data.question_id\r\n            await updateQuestion1(questionId, value);\r\n            this.editing = false;\r\n            // \r\n            // this.$router.go(0);\r\n            this.forceUpdateQuestion();\r\n        },\r\n        formulaOff() {\r\n            this.formulaOn = false;\r\n        },\r\n        async pasteFormula() {\r\n            console.log(\"click enter to paste formula\")\r\n            console.log(this.formulaText, \"the formula text on paste\")\r\n            // this.$refs.editor2?.quill.setContents([{ insert: { formula: this.formulaText } }])\r\n            await this.$nextTick()\r\n            this.formulaText2 = \" \"\r\n            this.formulaText = \" \"\r\n\r\n        },\r\n        inputFormula(value: any) {\r\n            console.log(value, \"the input value\")\r\n            console.log(value.target.getValue(\"latex-expanded\"))\r\n            this.formulaText = value.target.getValue(\"latex-unstyled\")\r\n        },\r\n        async upVoteAnswer(value: any) {\r\n            console.log(value, \"value of up vote answer\");\r\n            const data = { value: 1, AnswerAnswerId: value.answer_id }\r\n            await voteAnswer(data);\r\n            // \r\n            // this.$router.go(0);\r\n            this.forceUpdateQuestion();\r\n        },\r\n        async downVoteAnswer(value: any) {\r\n            console.log(value, \"value of down vote answer\")\r\n            // console.log(value, \"value of up vote answer\");\r\n            const data = { value: -1, AnswerAnswerId: value.answer_id }\r\n            await voteAnswer(data);\r\n            // \r\n            // this.$router.go(0);\r\n            this.forceUpdateQuestion();\r\n        },\r\n        async updateAnswer(body: any) {\r\n            console.log(body, 'the body which gonna be updated')\r\n            const value = { body: this.editedAnswerBody }\r\n            const answerId = this.updatedAnswer.answer_id\r\n            await updateAnswer1(answerId, value);\r\n            this.answerEditing = false;\r\n            // \r\n            // this.$router.go(0);\r\n            this.forceUpdateQuestion();\r\n        },\r\n        showAnswerEdit(value: any) {\r\n            this.answerEditing = true\r\n            console.log(value, 'the answer which gonna be updated')\r\n            this.updatedAnswer = value\r\n            this.editedAnswerBody = value.body\r\n        }\r\n    },\r\n    mounted() {\r\n        window.katex = katex;\r\n        this.getQuestionData;\r\n        console.log(this.getQuestionData);\r\n        // const quill = new Quill('#editor', {\r\n        //     modules: {\r\n        //         toolbar:\r\n        //             [\r\n        //                 [{ header: [1, 2, false] }],\r\n        //                 ['bold', 'italic', 'underline'],\r\n        //                 ['image', 'code-block']\r\n        //             ]\r\n        //     },\r\n\r\n        // });\r\n    }\r\n})\r\n</script>\r\n<style  >\r\n.kappa > .ql-container.ql-snow {\r\n    /* border: 1px solid white !important; */\r\n    border-style: none !important;\r\n}\r\n.kappa2 > .ql-container.ql-snow {\r\n    /* border: 1px solid white !important; */\r\n    border-style: none !important;\r\n}\r\n.ql-customBtn222 {\r\n    border: solid red !important;\r\n    border-radius: 100% !important;\r\n}\r\n</style>\r\n"]}]}